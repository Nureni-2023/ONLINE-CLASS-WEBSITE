<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù - Ø¹Ù„Ù… Ø§Ù„ÙØ±Ø§Ø¦Ø¶</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    body {
      font-family: 'Cairo', sans-serif;
      margin: 0;
      background: #f2f3f4;
      color: #333;
    }

    header {
      background: #0a3d62;
      color: white;
      padding: 20px;
      text-align: center;
      position: relative;
    }

    .lang-switch {
      position: absolute;
      top: 10px;
      left: 20px;
    }

    .lang-switch button {
      background: transparent;
      border: none;
      font-size: 22px;
      color: white;
      cursor: pointer;
    }

    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }

    h2 {
      color: #0a3d62;
      text-align: center;
      margin-bottom: 20px;
    }

    form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }

    input, select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
      width: 100%;
    }

    button {
      background: #0a3d62;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }

    button:hover {
      background: #3c6382;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      overflow-x: auto;
    }

    table, th, td {
      border: 1px solid #ddd;
    }

    th {
      background-color: #0a3d62;
      color: white;
    }

    th, td {
      padding: 10px;
      text-align: center;
      word-break: break-word;
    }

    td button {
      margin: 0 5px;
      font-size: 14px;
      padding: 5px 10px;
    }

    @media (max-width: 768px) {
      form {
        grid-template-columns: 1fr;
      }
      button {
        grid-column: span 1;
      }
      th, td {
        font-size: 8px;
      }
    }

    footer {
      text-align: center;
      padding: 10px;
      background: #0a3d62;
      color: white;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <!-- ğŸŒ Language Toggle -->
  <header>
    <div class="lang-switch">
      <button onclick="toggleLang()" title="Switch Language"><i class="fas fa-globe"></i></button>
    </div>
    <h1 id="adminTitle">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù</h1>
    <p id="adminSubtitle">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ - Ø¹Ù„Ù… Ø§Ù„ÙØ±Ø§Ø¦Ø¶</p>
  </header>

  <!-- ğŸ§‘â€ğŸ“ Admin Panel -->
  <div class="container">
    <h2 id="regTitle">ØªØ³Ø¬ÙŠÙ„ Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
    <form id="studentForm">
      <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
      <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
      <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <select id="level">
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© --</option>
        <option value="Ù…Ø¨ØªØ¯Ø¦">Ù…Ø¨ØªØ¯Ø¦</option>
        <option value="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</option>
        <option value="Ù…ØªÙ‚Ø¯Ù…">Ù…ØªÙ‚Ø¯Ù…</option>
      </select>
      <button type="button" onclick="registerStudent()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨</button>
    </form>

    <h2 id="studentListTitle">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
    <div style="overflow-x:auto;">
      <table>
        <thead>
          <tr>
            <th id="thName">Ø§Ù„Ø§Ø³Ù…</th>
            <th id="thEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
            <th id="thPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
            <th id="thLevel">Ø§Ù„Ù…Ø±Ø­Ù„Ø©</th>
            <th id="thActions">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody id="studentTable">
          <!-- Table rows will appear here -->
        </tbody>
      </table>
    </div>
    
    
    <!-- ğŸ¥ Upload YouTube Video Section -->
<!-- ğŸ¥ Upload Multiple YouTube Videos -->
<h2 id="videoSectionTitle">Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯</h2>
<form id="videoForm" onsubmit="addVideo(event)" style="display: flex; flex-wrap: wrap; gap: 10px;">
  <input type="text" id="videoUrl" placeholder="Ø±Ø§Ø¨Ø· YouTube">
  <input type="text" id="videoTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³">
  <button type="submit">â• Ø¥Ø¶Ø§ÙØ©</button>
</form>

<!-- ğŸ“‹ List of Uploaded Videos -->
<h3 id="videoListTitle">ğŸ“¼ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³</h3>
<div id="videoList" style="display: flex; flex-direction: column; gap: 15px; margin-top: 20px;"></div>


<div id="videoPreview" style="margin-top: 20px;">
  <iframe id="videoFrame" style="width:100%; height:300px; border-radius:10px; border:none;" allowfullscreen></iframe>
  
  <div style="text-align: center; margin-top: 10px;">
  <a id="downloadLink" href="#" target="_blank" download>ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</a><br><br>
  
  <button type="button" onclick="deleteVideo()" style="background: crimson;">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
</div>

</div>

    
    <!-- ğŸ’¬ Broadcast Message -->
<h2 id="broadcastTitle">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
<form onsubmit="sendBroadcast(event)" style="display: flex; flex-direction: column; gap: 10px;">
  <textarea id="broadcastMessage" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§..." rows="4" style="padding:10px; border-radius:8px;"></textarea>
  <button type="submit">ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
</form>

<!-- ğŸ’Œ Private Message -->
<h2 id="privateTitle">Ø±Ø³Ø§Ù„Ø© Ù„Ø·Ø§Ù„Ø¨ Ù…Ø­Ø¯Ø¯</h2>
<form onsubmit="sendPrivate(event)" style="display: flex; flex-direction: column; gap: 10px;">
  <select id="studentSelect" style="padding:10px; border-radius:8px;"></select>
  <textarea id="privateMessage" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø§ØµØ©..." rows="3" style="padding:10px; border-radius:8px;"></textarea>
  <button type="submit">ğŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
</form>

    
  <!-- ğŸ“¥ Messages from Students -->
<h2 id="inboxTitle">ğŸ“¥ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
<div id="inbox" style="padding: 15px; border: 1px solid #ccc; border-radius: 10px; background: #fcfcfc;">
  <p id="noInbox">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
</div>
  
    
    
    
  </div>

  <!-- ğŸ”» Footer -->
  <footer id="adminFooter">
    &copy; 2025 Ø¨ÙˆØ§Ø¨Ø© Ø¹Ù„Ù… Ø§Ù„ÙØ±Ø§Ø¦Ø¶
  </footer>

  <!-- âœ… JavaScript -->
  <script>
    let isArabic = true;

    function toggleLang() {
      isArabic = !isArabic;
      document.documentElement.lang = isArabic ? 'ar' : 'en';
      document.documentElement.dir = isArabic ? 'rtl' : 'ltr';

      document.getElementById("adminTitle").textContent = isArabic ? "Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù" : "Admin Dashboard";
      document.getElementById("adminSubtitle").textContent = isArabic ? "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ - Ø¹Ù„Ù… Ø§Ù„ÙØ±Ø§Ø¦Ø¶" : "Student Management - Ilm al-Fara'id";
      document.getElementById("regTitle").textContent = isArabic ? "ØªØ³Ø¬ÙŠÙ„ Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯" : "Register New Student";
      document.getElementById("name").placeholder = isArabic ? "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" : "Full Name";
      document.getElementById("email").placeholder = isArabic ? "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" : "Email";
      document.getElementById("password").placeholder = isArabic ? "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" : "Password";
      document.getElementById("level").innerHTML = isArabic
        ? '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© --</option><option value="Ù…Ø¨ØªØ¯Ø¦">Ù…Ø¨ØªØ¯Ø¦</option><option value="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</option><option value="Ù…ØªÙ‚Ø¯Ù…">Ù…ØªÙ‚Ø¯Ù…</option>'
        : '<option value="">-- Select Level --</option><option value="Beginner">Beginner</option><option value="Intermediate">Intermediate</option><option value="Advanced">Advanced</option>';
      document.querySelector("form button").textContent = isArabic ? "Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨" : "Add Student";
      document.getElementById("studentListTitle").textContent = isArabic ? "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨" : "Student List";
      document.getElementById("thName").textContent = isArabic ? "Ø§Ù„Ø§Ø³Ù…" : "Name";
      document.getElementById("thEmail").textContent = isArabic ? "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" : "Email";
      document.getElementById("thPassword").textContent = isArabic ? "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" : "Password";
      document.getElementById("thLevel").textContent = isArabic ? "Ø§Ù„Ù…Ø±Ø­Ù„Ø©" : "Level";
      document.getElementById("thActions").textContent = isArabic ? "Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" : "Actions";
      document.getElementById("adminFooter").innerHTML = isArabic ? "&copy; 2025 Ø¨ÙˆØ§Ø¨Ø© Ø¹Ù„Ù… Ø§Ù„ÙØ±Ø§Ø¦Ø¶" : "&copy; 2025 Ilm al-Fara'id Portal";
    }

    function registerStudent() {
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const level = document.getElementById("level").value;

      if (!name || !email || !password || !level) {
        alert(isArabic ? "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„." : "Please fill in all fields.");
        return;
      }

      const table = document.getElementById("studentTable");
      const row = table.insertRow();
      row.innerHTML = `
        <td>${name}</td>
        <td>${email}</td>
        <td>${password}</td>
        <td>${level}</td>
        <td>
          <button onclick="editRow(this)">âœï¸</button>
          <button onclick="deleteRow(this)">ğŸ—‘ï¸</button>
        </td>
      `;

      document.getElementById("studentForm").reset();
    }

    function deleteRow(button) {
      const row = button.closest("tr");
      row.remove();
    }

    function editRow(button) {
      const row = button.closest("tr");
      const cells = row.querySelectorAll("td");

      const name = prompt(isArabic ? "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…:" : "Edit name:", cells[0].textContent);
      const email = prompt(isArabic ? "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:" : "Edit email:", cells[1].textContent);
      const password = prompt(isArabic ? "ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:" : "Edit password:", cells[2].textContent);
      const level = prompt(isArabic ? "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø±Ø­Ù„Ø©:" : "Edit level:", cells[3].textContent);

      if (name && email && password && level) {
        cells[0].textContent = name;
        cells[1].textContent = email;
        cells[2].textContent = password;
        cells[3].textContent = level;
      }
    }
    
    
    
    
    //Upload Link For Video 
   function addVideo(e) {
  e.preventDefault();
  const url = document.getElementById("videoUrl").value.trim();
  const title = document.getElementById("videoTitle").value.trim();
  if (!url || !title) {
    alert(isArabic ? "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø±Ø§Ø¨Ø·." : "Please enter both title and URL.");
    return;
  }

  let videoID = "";
  try {
    const parsed = new URL(url);
    videoID = parsed.searchParams.get("v") || parsed.pathname.split("/").pop();
  } catch {
    alert(isArabic ? "Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­." : "Invalid video link.");
    return;
  }

  const embed = `https://www.youtube.com/embed/${videoID}`;
  const download = `https://www.y2mate.com/youtube/${videoID}`;

  const videos = JSON.parse(localStorage.getItem("videoLibrary") || "[]");
  videos.push({ title, embed, download });
  localStorage.setItem("videoLibrary", JSON.stringify(videos));

  document.getElementById("videoForm").reset();
  renderVideoList();
}

function renderVideoList() {
  const container = document.getElementById("videoList");
  container.innerHTML = "";

  const videos = JSON.parse(localStorage.getItem("videoLibrary") || "[]");

  if (videos.length === 0) {
    container.innerHTML = `<p>${isArabic ? "Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹." : "No videos uploaded yet."}</p>`;
    return;
  }

  videos.forEach((vid, index) => {
    const block = document.createElement("div");
    block.style.border = "1px solid #ccc";
    block.style.padding = "10px";
    block.style.borderRadius = "8px";
    block.style.background = "#fdfdfd";
    block.innerHTML = `
      <h4>${vid.title}</h4>
      <iframe src="${vid.embed}" style="width:100%; height:250px;" allowfullscreen></iframe>
      <p style="margin: 10px 0;">
        <a href="${vid.download}" target="_blank">ğŸ“¥ ${isArabic ? "ØªØ­Ù…ÙŠÙ„" : "Download"}</a>
        <button onclick="deleteVideo(${index})" style="float:${isArabic ? 'left' : 'right'}; background:red; color:white; padding:5px 10px; border:none; border-radius:6px;">ğŸ—‘ï¸ ${isArabic ? "Ø­Ø°Ù" : "Delete"}</button>
      </p>
    `;
    container.appendChild(block);
  });
}

function deleteVideo(index) {
  const confirmMsg = isArabic ? "Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ" : "Delete this video?";
  if (!confirm(confirmMsg)) return;

  const videos = JSON.parse(localStorage.getItem("videoLibrary") || "[]");
  videos.splice(index, 1);
  localStorage.setItem("videoLibrary", JSON.stringify(videos));
  renderVideoList();
}
renderVideoList();

document.getElementById("videoSectionTitle").textContent = isArabic ? "Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯" : "Upload New Video";
document.getElementById("videoTitle").placeholder = isArabic ? "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³" : "Lesson Title";
document.getElementById("videoUrl").placeholder = isArabic ? "Ø±Ø§Ø¨Ø· YouTube" : "YouTube URL";
document.getElementById("videoListTitle").textContent = isArabic ? "ğŸ“¼ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³" : "ğŸ“¼ Lesson Video List";
renderVideoList(); // refresh after language switch



    
    
    //Delete videos 
    function deleteVideo() {
  if (!confirm(isArabic ? "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ" : "Are you sure you want to delete the video?")) {
    return;
  }

  // Clear iframe and link
  document.getElementById("videoFrame").src = "";
  document.getElementById("downloadLink").href = "#";
  document.getElementById("downloadLink").textContent = isArabic ? "ØªÙ… Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ" : "Video deleted";

  // Remove from localStorage
  localStorage.removeItem("lessonTitle");
  localStorage.removeItem("lessonLink");
  localStorage.removeItem("downloadLink");

  alert(isArabic ? "ØªÙ… Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ù†Ø¬Ø§Ø­." : "Video deleted successfully.");
}

    document.querySelector('button[onclick="deleteVideo()"]').textContent = isArabic ? "ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ" : "ğŸ—‘ï¸ Delete Video";
    
    
    
    
    //------------Message ----------
    
    function sendBroadcast(e) {
  e.preventDefault();
  const message = document.getElementById("broadcastMessage").value.trim();
  if (!message) {
    alert(isArabic ? "ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©." : "Please write a message.");
    return;
  }
  localStorage.setItem("broadcastMessage", message);
  document.getElementById("broadcastMessage").value = "";
  alert(isArabic ? "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹." : "Message sent to all students.");
}

function sendPrivate(e) {
  e.preventDefault();
  const email = document.getElementById("studentSelect").value;
  const msg = document.getElementById("privateMessage").value.trim();
  if (!email || !msg) {
    alert(isArabic ? "ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©." : "Please select a student and enter a message.");
    return;
  }
  localStorage.setItem(`msg_${email}`, msg);
  document.getElementById("privateMessage").value = "";
  alert(isArabic ? "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©." : "Private message sent.");
}

// Update student dropdown when a new student is added
function updateStudentDropdown(email) {
  const select = document.getElementById("studentSelect");
  const option = document.createElement("option");
  option.value = email;
  option.textContent = email;
  select.appendChild(option);
}

updateStudentDropdown(email);


// Initialize dropdown with table data
window.onload = () => {
  document.querySelectorAll("#studentTable tr td:nth-child(2)").forEach(td => {
    updateStudentDropdown(td.textContent);
  });

  const savedLink = localStorage.getItem("lessonLink");
  if (savedLink) {
    document.getElementById("videoFrame").src = savedLink;
    document.getElementById("downloadLink").href = localStorage.getItem("downloadLink");
    document.getElementById("downloadLink").textContent = isArabic
      ? `ğŸ“¥ ØªØ­Ù…ÙŠÙ„: ${localStorage.getItem("lessonTitle")}`
      : `ğŸ“¥ Download: ${localStorage.getItem("lessonTitle")}`;
  }
};


document.getElementById("broadcastTitle").textContent = isArabic ? "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨" : "Send Message to All Students";
document.getElementById("broadcastMessage").placeholder = isArabic ? "Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§..." : "Write the message here...";
document.querySelector('form button[type="submit"]').textContent = isArabic ? "ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©" : "ğŸ“¤ Send Message";

document.getElementById("privateTitle").textContent = isArabic ? "Ø±Ø³Ø§Ù„Ø© Ù„Ø·Ø§Ù„Ø¨ Ù…Ø­Ø¯Ø¯" : "Private Message to Student";
document.getElementById("privateMessage").placeholder = isArabic ? "Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø§ØµØ©..." : "Enter private message...";
document.querySelectorAll('form button[type="submit"]')[1].textContent = isArabic ? "ğŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©" : "ğŸ“© Send Message";


function loadInbox() {
  const inboxDiv = document.getElementById("inbox");
  inboxDiv.innerHTML = "";
  let found = false;

  for (let key in localStorage) {
    if (key.startsWith("from_")) {
      const email = key.split("_")[1];
      const msg = localStorage.getItem(key);
      const box = document.createElement("div");
      box.style.marginBottom = "15px";
      box.style.borderBottom = "1px solid #eee";
      box.innerHTML = `<strong>${email}:</strong><br><p>${msg}</p>`;
      inboxDiv.appendChild(box);
      found = true;
    }
  }

  if (!found) {
    inboxDiv.innerHTML = `<p id="noInbox">${isArabic ? "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹." : "No messages yet."}</p>`;
  }
}


window.onload = () => {
  // Existing logic...

  loadInbox();  // ğŸ‘ˆ This loads all inbox messages from students
};



    
  </script>
</body>
</html>
